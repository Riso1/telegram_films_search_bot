# üé¨ Telegram-–±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤

Telegram-–±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–Ω–µ—à–Ω–µ–≥–æ API  
**The Movie Database (TMDB)**.

–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫—É—Ä—Å–∞  
**¬´Python-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫¬ª (SkillBox)**.


---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞

–ë–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –∏—Å–∫–∞—Ç—å —Ñ–∏–ª—å–º—ã –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é;
- –Ω–∞—Ö–æ–¥–∏—Ç—å —Ñ–∏–ª—å–º—ã —Å –≤—ã—Å–æ–∫–∏–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º;
- –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤;
- —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã –∏ –∫–Ω–æ–ø–æ—á–Ω–æ–µ –º–µ–Ω—é.

---

## ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` ‚Äî –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ–Ω—é;
- `/help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º –∫–æ–º–∞–Ω–¥–∞–º;
- `/movie_search` ‚Äî –ø–æ–∏—Å–∫ —Ñ–∏–ª—å–º–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é;
- `/movie_by_rating` ‚Äî –ø–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É;
- `/history` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–æ—á–Ω–æ–µ –º–µ–Ω—é (ReplyKeyboard).

---

## üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.10+
- pyTelegramBotAPI
- requests
- Peewee ORM
- SQLite
- The Movie Database API (TMDB)

---

## üåê –ò—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ API

### The Movie Database (TMDB)

–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∏–ª—å–º–∞–º–∏ –∏ —Å–µ—Ä–∏–∞–ª–∞–º–∏.

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:  
https://developer.themoviedb.org

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ endpoints

#### üîπ –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é

GET https://api.themoviedb.org/3/search/movie


–ü—Ä–∏–º–µ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞:
```python
params = {
    "api_key": TMDB_API_KEY,
    "query": "Matrix",
    "language": "ru-RU",
    "include_adult": False
}
```

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (—Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ):
```python
{
  "results": [
    {
      "title": "–ú–∞—Ç—Ä–∏—Ü–∞",
      "release_date": "1999-03-30",
      "vote_average": 8.2
    }
  ]
}
```

üîπ –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É
GET https://api.themoviedb.org/3/discover/movie


–ü—Ä–∏–º–µ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞:

```python
params = {
    "api_key": TMDB_API_KEY,
    "sort_by": "vote_average.desc",
    "vote_average.gte": 7,
    "vote_count.gte": 100
}
```

üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

- –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite;

- ORM Peewee.

–°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:

- ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram;

- –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞;

- –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞;

- –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞.

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python **3.10 –∏–ª–∏ –≤—ã—à–µ**
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Telegram (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞)

---

### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/Riso1/telegram_films_search_bot.git
cd telegram_films_search_bot
```

### 2Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
Windows:
```bash
python -m venv .venv
.venv\Scripts\activate
```

macOS / Linux:
```bash
python3 -m venv .venv
source .venv/bin/activate
```

### 3Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```python
pip install -r requirements.txt
```

### 4Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env –∏ —É–∫–∞–∑–∞—Ç—å –≤ –Ω—ë–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```
BOT_TOKEN=your_telegram_bot_token
TMDB_API_KEY=your_tmdb_api_key

BOT_TOKEN ‚Äî —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —á–µ—Ä–µ–∑ @BotFather
TMDB_API_KEY ‚Äî API-–∫–ª—é—á —Å–µ—Ä–≤–∏—Å–∞ The Movie Database
```

### 5Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
```python
python main.py
```
